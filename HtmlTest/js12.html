<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>
        正则表达式
    </title>
    <script type="text/javascript">

        /*
         *   正则表达式的方法；
         *      test()
         *      -  使用这个方法可以用来检查一个字符串是否符合正则表达式的规则
         *         如果符号则返回true，否则返回false
         *        var reg = new RegExp("a") 这个正则表达式可以用来检查一个
         *          字符串中是否含有a
         *   在构造函数中可以传递一个匹配模式作为第二个参数，
         *         可以是
         *           i  忽略大小写
         *           g  全局匹配模式
         */

        var reg = new RegExp("a", "i");

        var str = "a";

        var result = reg.test(str);

        //console.log(result);
        console.log(reg.test("Abcbc"));

        /*
         *   使用字面量来创建正则表达式
         *      语法； var 变量 = /正则表达式/匹配模式
         *     使用字面量的方式创建更加简单
         *     使用构造函数来创建更加灵活
         *
         */

        //var reg = new RegExp("a","I")

        reg = /a/i;

        //   console.log(typeof reg);
        //   console.log(reg.test('abc'));

        //创建一个正则表达式，检查一个字符串中是否有a或b
        // 使用 | 表示或的意思
        reg = /a|b/;

        console.log(reg.test("bcd"))


        /*
         *  创建一个正则表达检查一个字符串中是否有字母
         */

        // reg = /a|b|c|d|e/;

        /*
         *   [] 里的内容也是或的关系
         *   [ab] == a|b
         *   [a-z] 任意小写字母
         *   [A-Z] 任意大写字母
         *   [A-z] 任意字母
         *   [0-9] 任意数字
         */

        reg = /[a-z]/;

        //检查一个字符串中是否含有 abc 或 adc 或 aec 

        reg = /a[ade]c/;

        //console.log(reg.test('aec'))

        /*
         * [^ ] 除了
         */

        reg = /[^ab]/;

        console.log(reg.test("a"));


        var str = "1a2b3c4d5e6f";

        /*
         *  split()
         *   - 可以将一个字符串拆分为一个数组
         *   - 方法中可以传递一个正则表达式作为参数，这样方法将会根据正则
         *     表达式去拆分字符串
         *   - 这个方法即使不指定全局匹配，也会全都拆分
         */

        var result = str.split(/[A-z]/);

        console.log(result);

        /*
         *  search()
         *     - 可以搜索字符串中是否含有指定内容
         *     - 如果搜索到指定内容，则会返回第一次出现的索引，如果没有
         *        搜索到返回-1
         *     - 它可以结束一个正则表达式作为参数，然后根据正则表达式去
         *        检索字符串
         *     - serach()只会查找第一个，即使设置全局匹配也没用
         */

        str = "hellp abc hello abc aec afc";
        result = str.search("abcd");

        /* 
         *  搜索字符串中是否含有 abc 或 aec 或 afc
         */

        result = str.search(/a[bef]c/);

        /*
         *  match()
         *    - 可以根据正则表达式，从一个字符串中将符合条件的内同提取出来
         *    - 默认情况下我们的match只会找到第一个符合要求的内容，找到以后
         *       就会停止检索 我们就可以设置正则表达式为全局匹配模式，这样就
         *       会匹配到所有的内容
         *      可以为一个正则表达式设置多个匹配模式，且顺序无所谓
         *  - march() 会将匹配到的内容封装到一个数组中返回，即使只查询到一
         *        个结果      
         *
         *  
         *
         */
        str = "1a2b3c4d5e6f7A8B9C"

        result = str.match(/[a-z]/gi);

        //console.log(Array.isArray(result));
        //console.log(result[2]);


        /*
         * replace()
         *    - 可以将字符串中指定内容替换为新的内容
         *    - 参数；
         *       1.被替换的内容,可以接受一个正则表示作为参数
         *       2. 新的内容
         *    - 默认只会替换第一个
         */

        result = str.replace(/[a-z]/gi, "@_@");

        console.log(result);


        /*
         *  创建一个正则表达式检查一个字符串中是否含有aaa
         */

        /*
         *   量词 
         *    - 通过量词可以设置一个内容出现的次数
         *    - 量词支队他前边的一个内容起作用
         *    - {n}正好出现n次
         *    - {m,n} 出现m-n次
         *    - {m,}  m次及以上
         *    -  + 至少一个，相当于{1,}
         *    - *  0个或多个,相当于{0,}
         *    - ?  0个或1个，相当于{0,1}
         */
        var reg = /a{3}/;

        //ababab
        reg = /(ab){3}/;

        reg = /b{3}/;

        reg = /ab{1,3}c/;

        reg = /ab*c/;

        reg = /ab?c/;

        console.log(reg.test("abbbc"));

        /*
         *  检查一个字符串中是否以a开头
         *  ^ 表示开头
         *  $ 表示结尾
         */
        reg = /^a/;  //匹配开头的a

        reg = /a$/;  //匹配结尾的a

        //console.log(reg.test("abcbcabc"))

        /*
         * 如果在正则表达式中同时使用^ $ 则要求字符串必须完全符合正则表达式
         */
        reg = /^a$/;

        console.log(reg.test("a"));

        /*
         *  创建一个正则表达式，用来检查一个字符串是否是一个合法手机号
         *
         *  手机号的规则
         *  135*******1(11为)
         *  1. 以1开头
         *  2. 第二位3-9任意数字
         *  3. 三位以后任意9个数字
         *
         *   ^1   [3-9]    [0-9]{9}$ 
         */

        var phoneStr = "13567890123"

        var phoneReg = /^1[3-9][0-9]{9}$/;

        console.log(phoneReg.test(phoneStr));

        /*
         *  检查一个字符串中是否含有 . 
         *  .  表示任意字符
         *  在正则表达式中使用\作为转义字符
         *  \.  来表示 . 
         *  \\  表示 \
         *
         *   注意，使用构造函数时，由于他的参数是一个字符串，而\是字符串中转义字符，
         *     如果要使用\则需要使用\\来代替
         */

        var reg = /\./;

        reg = /\\/;

        reg = new RegExp("\\.");

        reg = new RegExp("\\\\");

        //console.log(reg);
        /*
         * \w 
         *   -  任意字母，数字 _ [A-z,0-9]_ 
         *  \W   
         *   -  除了字母，数字 _  [^A-z,0-9]_
         *  \d 
         *   -  任意数字[0-9]
         *  \D
         *   -  除了数字[^0-9]
         *  \s 
         *   -  空格
         *  \S 
         *   -  除了空格
         *  \b 
         *   -  单词边界
         *  \B 
         *   -  除了单词边界
         */

        reg = /\w/;
        reg = /\W/;

        reg = /\d/;
        reg = /\D/;

        reg = /\s/;
        reg = /\S/;

        /*
         * 创建一个正则表达式检查一个字符串中是否含有单词child
         */

        reg = /\bchild\b/;

        console.log(reg.test("hello children"))

        // 接受一个用户的输入
        var str = prompt("请输入用户名");

        var str = "         he  llo       ";
        // 去除掉字符串中的空格 
        // 去除空格就式使用""来替换空格
        //console.log(str);

        //str = str.replace(/\s/g,"");

        //去掉开头的空格
        // str = str.replace(/^\s/,"");

        // 去掉结尾的空格
        //str = str.replace(/\s*$/,"");

        //   /^\s*|\s*$/g 匹配开头和结尾的空格
        str = str.replace(/^\s+|\s+$/g, "");
        console.log(str);

        /*
         *  电子邮件
         *    hello@abc.com.cn
         *
         * 任意数字字母下划线  .  任意数字字母下划线  @  任意字母数字  .任意字母(2-5位)
         *  \w{3,}  (\.\w+*)  @  [A-z0-9]+  (\.[A-z]{2-5}){1.2}
         */
        
        var emailReg = /^\w{3,}(\.\w+)*@[A-z0-9]+(\.[A-z]{2-5}){1.2}$/;

        var email = "abc@abc.com.123"

        console.log(emailReg.test(email));

    </script>
</head>

<head>

</head>

</html>